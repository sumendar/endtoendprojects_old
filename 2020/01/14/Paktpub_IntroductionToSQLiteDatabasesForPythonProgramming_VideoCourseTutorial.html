<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">## Using SQLite With Python
</span></code></pre></div></div>

<iframe src="https://assets.pinterest.com/ext/embed.html?id=420523683962989537" height="445" width="345" frameborder="0" scrolling="no"></iframe>

<p><strong>Link:</strong><br />
https://subscription.packtpub.com/video/application-development/9781838982867/116872/116877/query-and-fetchall</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="kn">import</span> <span class="nn">sqlite3</span>
</code></pre></div></div>

<h2 id="using-sqlite-with-python">Using SQLite With Python</h2>

<h3 id="create-sqlite-connection">Create SQLite Connection</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#%%sql
#conn = sqlite3.connect(
#    ":memory:"
#)  #store database inmemory temporary without perminent(placed inmemory like Ram  it will delete )
</span></code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">conn</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">"customer.db"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="create-a-database-table">Create A Database Table</h3>
<p><strong><code class="language-plaintext highlighter-rouge">SQLite is Case Sensitive</code><br />
(<em>Lowercase shoule be in lower and Uppercase should be in uppercase</em>)</strong></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">c</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">cursor</span><span class="p">()</span> <span class="c1"># cursor to pointout 
</span></code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># create a table
</span><span class="n">c</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="s">"""CREATE TABLE customers (
                first_name DATATYPE,
                last_name DATATYPE,
                email DATATYPE)
                """</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">c</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="s">"DROP TABLE customers"</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;sqlite3.Cursor at 0x13cc6b19650&gt;
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># create a table
</span><span class="n">c</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="s">"""CREATE TABLE customers (
                first_name text,
                last_name text,
                email text)
                """</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;sqlite3.Cursor at 0x13cc6b19650&gt;
</code></pre></div></div>

<h3 id="commit-the-connection">Commit the Connection</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">conn</span><span class="p">.</span><span class="n">commit</span><span class="p">()</span> <span class="c1"># commit the execution
</span></code></pre></div></div>

<h3 id="close-the-connection">Close the Connection</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">conn</span><span class="p">.</span><span class="n">close</span><span class="p">()</span> <span class="c1"># close the connection
</span></code></pre></div></div>

<h3 id="reconnect-with-the-database-we-want-and-execute-the-queries">ReConnect with the database we want and execute the queries</h3>
<p><code class="language-plaintext highlighter-rouge">Closed coonnection will not execute,   so we have to  connect again and create the cursor for execution</code></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">conn</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">"customer.db"</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">c</span> <span class="o">=</span> <span class="n">conn</span><span class="p">.</span><span class="n">cursor</span><span class="p">()</span> <span class="c1"># cursor to pointout 
</span></code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">c</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="s">"INSERT INTO customers VALUES('John', 'Eler', 'john@codemy.com')"</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;sqlite3.Cursor at 0x13cc6b2a880&gt;
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">c</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="s">"SELECT * FROM customers"</span><span class="p">)</span>
<span class="c1"># this would be run with the above line so get the output (indivisual this line run will not get output)
</span><span class="k">print</span><span class="p">(</span><span class="n">c</span><span class="p">.</span><span class="n">fetchone</span><span class="p">())</span>
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>('John', 'Eler', 'john@codemy.com')
</code></pre></div></div>

